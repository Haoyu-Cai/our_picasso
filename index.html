<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5"><title>Picasso</title><meta name="author" content="Haoyu-Cai"><link rel="shortcut icon" href="/our_picasso/img/favicon.png"><link rel="stylesheet" href="/our_picasso/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.13.0/css/all.min.css"><meta name="generator" content="Hexo 7.2.0"></head><body><header id="page_header"><div class="header_wrap"><div id="blog_name"><a class="blog_title" id="site-name" href="/our_picasso/">Picasso</a></div><button class="menus_icon"><div class="navicon"></div></button><ul class="menus_items"><li class="menus_item"><a class="site-page" target="_blank" rel="noopener" href="https://phower.me"> Blog</a></li></ul></div></header><main id="page_main"><div class="side-card sticky"><div class="card-wrap" itemscope itemtype="http://schema.org/Person"><div class="author-avatar"><img class="avatar-img" src="/our_picasso/images/profile.jpg" onerror="this.onerror=null;this.src='/our_picasso/images/profile.jpg'" alt="avatar"></div><div class="author-discrip"><h3>Haoyu-Cai</h3><p class="author-bio"></p></div><div class="author-links"><button class="btn m-social-links">Links</button><ul class="social-icons"><li><a class="social-icon" href="/" target="_blank"><i class="fab fa-twitter" aria-hidden="true"></i></a></li><li><a class="social-icon" href="/" target="_blank"><i class="fab fa-facebook-square" aria-hidden="true"></i></a></li><li><a class="social-icon" href="/" target="_blank"><i class="fab fa-github" aria-hidden="true"></i></a></li><li><a class="social-icon" href="/" target="_blank"><i class="fab fa-stack-overflow" aria-hidden="true"></i></a></li><li><a class="social-icon" href="/" target="_blank"><i class="fab fa-linkedin" aria-hidden="true"></i></a></li><li><a class="social-icon" href="/" target="_blank"><i class="fab fa-weibo" aria-hidden="true"></i></a></li><li><a class="social-icon" href="/" target="_blank"><i class="fab fa-weixin" aria-hidden="true"></i></a></li><li><a class="social-icon" href="/" target="_blank"><i class="fab fa-qq" aria-hidden="true"></i></a></li><li><a class="social-icon" href="/" target="_blank"><i class="fas fa-envelope" aria-hidden="true"></i></a></li><li><a class="social-icon" href="/" target="_blank"><i class="fas fa-rss" aria-hidden="true"></i></a></li></ul></div></div></div><div class="page" itemscope itemtype="http://schema.org/CreativeWork"><article><div class="content">
  <h1>Picasso: Exploring a Temporal-Spatial Parameter Analysis Approach for Text-To-Image Diffusion Models </h1>
  <p id="authors"><a>Haoyu Cai<sup>1</sup></a> &nbsp; &nbsp; <a target="_blank" rel="noopener" href="http://staff.ustc.edu.cn/~cswang/">Chao Wang<sup>1,2,3</sup></a> &nbsp;&nbsp;  <a target="_blank" rel="noopener" href="http://staff.ustc.edu.cn/~xhzhou/">Xuehai Zhou<sup>1,3</sup></a> &nbsp;&nbsp; <a target="_blank" rel="noopener" href="http://home.ustc.edu.cn/~louwenqi">Wenqi Lou<sup>3</sup></a><br>

<p>  <span style="font-size: 16px"><sup>1</sup> School of Computer Science, USTC &nbsp;&nbsp;<sup>2</sup> Suzhou Institute for Advanced Research, USTC &nbsp;&nbsp;<sup>3</sup> School of Software Engineering, USTC<br>  </span></p></p>
</div>

<h3 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h3><p>Visual Concept Implantation (VCI) is essential in text-to-image fields. While VCI methods in diffusion models (VCI in DM) have matured, Visual Concept Disentanglement (VCD) remains an unexplored area. VCD involves analyzing Prompt Spaces trained in VCI to produce disentangled SubPrompts or SubCones. However, challenges arise due to Prompt Space design complexity and feature information extraction. We propose Picasso, a unified framework for VCD in DM. </p>
<p>Our contributions include: </p>
<ul>
<li>for performance evaluation, Transforming VCD in DM into a regular clustering task by Visualization based on SubCones (VbSC); </li>
<li>for a unified framework design: Picasso processes diverse Prompt Spaces using spatially clusterable features from the Scones Set; </li>
<li>for prompt space exploration: Introducing a temporal-spatial SOTA Prompt design subset based on temporal features.</li>
</ul>
<p>Our method provides a feasible mechanism for VCD in DM. Through functional and interpretability validation methods, we will comprehensively evaluate the effectiveness of our proposed method in visual concept implantation tasks and verify the correctness of the parameter space design principles.</p>
<div style="text-align: center;">
<img class="summary-img" src="images/subfig1.jpg" style="width:60%;">
</div>
<br>
<div class="img-legend"><b>Fig.1</b> Temporal-Spatial Parameter Analysis Approach. <i>(a) Visualization Concept Disentanglement Mechanism in Diffusion Models based on Prompt Space Analysis; (b) The Input Extension Formats in Prompt Space Analysis; (c) Evaluation Method bridged by VbSC for Visualization Disentanglement.</i> </div>

<h3 id="Motivation"><a href="#Motivation" class="headerlink" title="Motivation"></a>Motivation</h3><p>In <b>Fig.1</b>(a), we introduce the VCD Mechanism in DM based on Prompt Space analysis. The significance of this research lies in providing a feasible mechanism for VCD in DM tasks. The VCD in the DM problem is nontrivial because of the following complexities:<br>(1) <strong>Prompt Space Design</strong>: The design of the Prompt Space significantly impacts the complexity of parameter analysis. In contrast to general neural network models, one of the main challenges in analyzing the Prompt Space of diffusion models is the temporal inference computation flow. The temporal inference computation flow is in a time-multiplexing manner for the inner parameters of the diffusion model. The time-multiplexing mechanism implies that the same parameter may have vastly different effects at different time steps, leading to less interpretable analysis results. Therefore, introducing temporal elements in the Prompt Space design of diffusion models is necessary. However, introducing temporal elements complicates the analysis process, and high-quality parameter analysis methods must be prioritized.<br>(2) <strong>Parameter Analysis Methods</strong>: Another challenge in analyzing the Prompt Space of diffusion models is feature information extraction. The network structures of conditional generative models like GANs are typically carefully designed, and feature information related to model parameters is often easy to extract or even possesses intrinsic structural features. To reduce convergence costs, designers of diffusion models often use network structures with low interpretability. For example, Stable Diffusion uses UNet as its backbone. Although the CrossAttention layer in diffusion model networks contains critical feature information, existing research indicates that such features are often difficult to analyze directly. Therefore, enhancing the interpretability of feature information through preprocessing is crucial. The search cost of excessively large Prompt Space must also be considered.<br>To address the discussed challenges and limitations, in this work, we propose the first unified and efficient framework Picasso which supports the VCD Mechanism in DM based on Prompt Space analysis and further quantifies the framework’s effectiveness. It is important to lay the foundation for exploring a general solution for VCD. We analyze the performance of various implementation strategies for VCD in DM and its derivative tasks, summarize the empirical rules of Prompt design to improve the performance of the VCI in diffusion models and enhance the feasibility of VCI methods.</p>
<h3 id="Clustering-Result"><a href="#Clustering-Result" class="headerlink" title="Clustering Result"></a>Clustering Result</h3><div style="text-align: center;">
<img class="summary-img" src="/our_picasso/img/cones_identify_a.jpg" style="width:45%;">
</div>
<br>
<div class="img-legend"><b>Fig.2</b> Visual results of FCM clustering. </i> </div>
In practice, we found that too many spatial features were collected during the diffusion model sampling process, making it difficult for the clustering algorithm to converge. According to \textbf{Theorem 1}, we introduce a high-weight feature selection strategy based on a simple high-pass filter with $$\mathbf{\tau}$$ as the threshold.
Fig.~\ref{fig:ei}(a) demonstrates the visual results of FCM clustering for various values of $\mathbf{\tau}$, illustrating that the TSCones and their corresponding spatial activation information encapsulate critical insights of the diffusion model about specific concepts. To mitigate the impact of channel dimensionality, we first reduce all spatial activations $\mathbf{F_s}$ to the same dimensionality using PCA before performing clustering.

<div style="text-align: center;">
<img class="summary-img" src="/our_picasso/img/cones_identify_b.jpg" style="width:45%;">
</div>
<br>
<div class="img-legend"><b>Fig.3</b> The relationship between τ , running time, and FPC in a chart </i> </div>

<p>It is visually evident from the graph that as $\mathbf{\tau}$ increases, the clustering results become more coherent and reasonable, while simultaneously optimizing the time cost required by the clustering algorithm in Fig.~\ref{fig:ei} (b).<br>Therefore, we believe that concept neurons play a pivotal role in the diffusion model’s understanding of specific concepts.</p>
</article></div></main><div class="nav-wrap"><div class="nav"><button class="site-nav"><div class="navicon"></div></button><ul class="nav_items"><li class="nav_item"><a class="nav-page" target="_blank" rel="noopener" href="https://phower.me"> Blog</a></li></ul></div><div class="cd-top"><i class="fa fa-arrow-up" aria-hidden="true"></i></div></div><footer id="page_footer"><div class="footer_wrap"><div class="copyright">&copy;2024 by Haoyu-Cai</div><div class="theme-info">Powered by <a target="_blank" href="https://hexo.io" rel="nofollow noopener">Hexo</a> & <a target="_blank" href="https://github.com/PhosphorW/hexo-theme-academia" rel="nofollow noopener">Academia Theme</a></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery-pjax@latest/jquery.pjax.min.js"></script><script src="/our_picasso/js/main.js"></script></body></html>